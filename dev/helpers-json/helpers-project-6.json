{
  "helpers": [
    {
      "name": "get_flows_for_theme",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "theme_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Theme ID"
        }
      ],
      "purpose": "Get all flows for a theme",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of flow objects [{id, name, description, theme_id}, ...]",
        "Queries flows WHERE theme_id = ?"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_theme_flow_mapping",
          "execution_context": "update_flow_themes",
          "sequence_order": 5,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Validate theme-flow relationships before mapping - ensures consistent theme-flow associations"
        }
      ]
    },
    {
      "name": "get_themes_for_flow",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "flow_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Flow ID"
        }
      ],
      "purpose": "Get all themes for a flow",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of theme objects [{id, name, description}, ...]",
        "Queries flow_themes junction table + themes"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_dependency_map",
          "execution_context": "generate_dependency_graph",
          "sequence_order": 5,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Get themes for flows in dependency graph - maps flow-theme relationships"
        }
      ]
    },
    {
      "name": "get_files_by_flow",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "flow_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Flow ID"
        }
      ],
      "purpose": "Get all files for a flow",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of file objects [{id, name, path, language}, ...]",
        "Queries file_flows junction + files table"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_dependency_map",
          "execution_context": "generate_dependency_graph",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query files by flow for dependency graph generation - builds flow-based dependency relationships"
        }
      ]
    },
    {
      "name": "get_flows_for_file",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID"
        }
      ],
      "purpose": "Get all flows for a file",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of flow objects [{id, name, description, theme_id}, ...]",
        "Queries file_flows junction + flows table"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_dependency_map",
          "execution_context": "generate_dependency_graph",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reverse lookup - get flows for file in dependency graph - enables bidirectional flow-file navigation"
        }
      ]
    },
    {
      "name": "add_completion_path",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Completion path name (e.g., 'setup', 'core dev', 'finish')"
        },
        {
          "name": "status",
          "type": "string",
          "required": true,
          "default": "pending",
          "description": "'pending', 'in_progress', 'completed'"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Description"
        },
        {
          "name": "order_index",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Order position (1, 2, 3...)"
        }
      ],
      "purpose": "Add completion path stage",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: {success: true, id: int} - new completion path ID",
        "Inserts into completion_path table"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Create completion path stages during user request decomposition - establishes project roadmap structure"
        }
      ]
    },
    {
      "name": "get_all_completion_paths",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [],
      "purpose": "Get all completion paths ordered by order_index",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of completion path objects [{id, name, status, description, order_index}, ...]",
        "Ordered by order_index ASC"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_blueprint_read",
          "execution_context": "database_fallback",
          "sequence_order": 5,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Query all completion paths when blueprint missing - retrieves completion path list from database for fallback"
        },
        {
          "directive_name": "project_evolution",
          "execution_context": "detect_project_wide_change",
          "sequence_order": 6,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Read current completion paths for evolution tracking - compares against blueprint to detect completion path changes"
        },
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 5,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Read all completion paths for status report - provides project roadmap overview"
        }
      ]
    },
    {
      "name": "get_next_completion_path",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [],
      "purpose": "Get lowest order_index with status != completed",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Completion path object {id, name, status, description, order_index} or null",
        "Queries WHERE status != 'completed' ORDER BY order_index ASC LIMIT 1"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_milestone_complete",
          "execution_context": "move_to_next_milestone",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Get next incomplete completion path after milestone completes - identifies next phase of project"
        }
      ]
    },
    {
      "name": "get_completion_paths_by_status",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "status",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'pending', 'in_progress', 'completed'"
        }
      ],
      "purpose": "Get completion paths filtered by status",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of completion path objects [{id, name, status, description, order_index}, ...]",
        "Queries WHERE status = ? ORDER BY order_index ASC"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 6,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Query completion paths by status for detailed status report - filters completed vs in-progress paths"
        }
      ]
    },
    {
      "name": "get_incomplete_completion_paths",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [],
      "purpose": "Get all non-completed paths",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: Array of completion path objects [{id, name, status, description, order_index}, ...]",
        "Queries WHERE status != 'completed' ORDER BY order_index ASC"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 7,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query incomplete completion paths for status report - shows remaining work on project roadmap"
        },
        {
          "directive_name": "project_milestone_complete",
          "execution_context": "move_to_next_milestone",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Get all incomplete completion paths after milestone completes - identifies remaining project phases"
        }
      ]
    },
    {
      "name": "update_completion_path",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Completion path ID"
        },
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New name (NULL = don't update)"
        },
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed' (NULL = don't update)"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New description (NULL = don't update)"
        }
      ],
      "purpose": "Update completion path",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Add an 'evolution' note describing the completion path change"
      ],
      "implementation_notes": [
        "Returns: {success: true}",
        "NULL parameters = don't update that field",
        "Order_index cannot be updated here - use reorder helpers"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_milestone_complete",
          "execution_context": "mark_path_complete",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark completion path as completed when all milestones in path finish - updates path status"
        }
      ]
    },
    {
      "name": "delete_completion_path",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Completion path ID"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'info', 'warning', 'error'"
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'ai' or 'user'"
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": "entry_deletion",
          "description": "'entry_deletion'"
        }
      ],
      "purpose": "Delete completion path with milestone validation",
      "error_handling": "- Calls `get_milestones_by_path(path_id)`",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns error if milestones exist under path",
        "Returns {success: true} after deletion with audit note",
        "Creates note record for audit trail"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "reorder_completion_path",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Completion path ID"
        },
        {
          "name": "new_order_index",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "New order position"
        }
      ],
      "purpose": "Change order_index for a completion path",
      "error_handling": "",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: {success: true} or error if order_index conflict",
        "Updates order_index field only",
        "May create gaps in sequence - consider reorder_all after use"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "reorder_all_completion_paths",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [],
      "purpose": "Fix gaps and duplicates in order_index",
      "error_handling": "",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: {success: true, renumbered_count: int, duplicates_found: [{id, old_order, new_order}, ...]}",
        "Renumbers to 1, 2, 3, 4... sequence",
        "Preserves relative order while closing gaps"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "swap_completion_paths_order",
      "file_path": "helpers/project/themes_flows_2.py",
      "parameters": [
        {
          "name": "id1",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "First completion path ID"
        },
        {
          "name": "id2",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Second completion path ID"
        }
      ],
      "purpose": "Swap order_index of two completion paths",
      "error_handling": "",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [],
      "implementation_notes": [
        "Returns: {success: true}",
        "Temporarily allows duplicates during swap - atomic operation",
        "Exchanges order_index values between two paths"
      ],
      "target_database": "project",
      "used_by_directives": []
    }
  ],
  "metadata": {
    "file": "helpers-project-6.json",
    "count": 14,
    "range": "helpers 60-73 of 112",
    "description": "Flow-theme relationships, file-flow relationships, and completion path management",
    "first_helper": "get_flows_for_theme",
    "last_helper": "swap_completion_paths_order",
    "status": "return_statements complete - 0 helpers enhanced",
    "last_updated": "2026-01-02",
    "notes": "All helpers are straightforward relationship queries and metadata operations - no return_statements needed"
  }
}