{
  "helpers": [
    {
      "name": "add_subtask",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Subtask name"
        },
        {
          "name": "parent_task_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Parent task ID"
        },
        {
          "name": "status",
          "type": "string",
          "required": true,
          "default": "pending",
          "description": "'pending', 'in_progress', 'completed', 'blocked'"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Subtask description"
        },
        {
          "name": "priority",
          "type": "string",
          "required": true,
          "default": "high",
          "description": "'low', 'medium', 'high', 'critical'"
        }
      ],
      "purpose": "Add subtask to task",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Consider creating items for this subtask"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Create subtasks for tasks during decomposition if user request includes subtask-level granularity"
        },
        {
          "directive_name": "project_subtask_create",
          "execution_context": "create_subtask_record",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Atomic subtask creation - creates focused, high-priority subtask and pauses parent"
        }
      ],
      "implementation_notes": [
        "Returns: {success: true, id: new_id}",
        "Subtasks inherit task's milestone and flows"
      ]
    },
    {
      "name": "get_incomplete_subtasks",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [],
      "purpose": "Get all non-completed subtasks",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 11,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query all incomplete subtasks for status report - builds priority status tree"
        },
        {
          "directive_name": "project_auto_resume",
          "execution_context": "detect_unfinished_work",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Detect unfinished subtasks for auto-resume - identifies next subtask to execute"
        },
        {
          "directive_name": "project_auto_summary",
          "execution_context": "generate_summary",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query incomplete subtasks for project summary - lists open subtasks in summary report"
        },
        {
          "directive_name": "project_completion_check",
          "execution_context": "check_completion_status",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check incomplete subtasks for completion validation - verifies all subtasks complete"
        }
      ],
      "implementation_notes": [
        "Returns: Array of subtask objects",
        "SQL: SELECT * FROM subtasks WHERE status != 'completed'"
      ]
    },
    {
      "name": "get_incomplete_subtasks_by_task",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "task_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Task ID"
        }
      ],
      "purpose": "Get incomplete subtasks for specific task",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_subtask_create",
          "execution_context": "check_active_subtasks",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check for existing active subtasks before creating new one - warns about context switching"
        },
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "check_parent_subtasks",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check if all subtasks complete to determine if parent task should resume"
        }
      ],
      "implementation_notes": [
        "Returns: Array of subtask objects",
        "SQL: SELECT * FROM subtasks WHERE task_id=? AND status != 'completed'"
      ]
    },
    {
      "name": "get_subtasks_by_task",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "task_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Task ID"
        },
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed', 'blocked' (NULL = all)"
        }
      ],
      "purpose": "Get subtasks for task, optionally filtered by status",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "notify_remaining_work",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Show remaining pending subtasks to user after one subtask completes"
        }
      ],
      "implementation_notes": [
        "Returns: Array of subtask objects",
        "SQL: SELECT * FROM subtasks WHERE task_id=? AND (status=? OR ? IS NULL)"
      ]
    },
    {
      "name": "get_subtasks_comprehensive",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed', 'blocked' (NULL = all)"
        },
        {
          "name": "limit",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Maximum results"
        },
        {
          "name": "date_range_created",
          "type": "array",
          "required": false,
          "default": null,
          "description": "[start_date, end_date]"
        },
        {
          "name": "date_range_updated",
          "type": "array",
          "required": false,
          "default": null,
          "description": "[start_date, end_date]"
        },
        {
          "name": "task_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Filter by task"
        },
        {
          "name": "priority",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'low', 'medium', 'high', 'critical'"
        }
      ],
      "purpose": "Advanced subtask search",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 12,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Advanced subtask query for detailed status report - filters subtasks by multiple criteria"
        },
        {
          "directive_name": "project_metrics",
          "execution_context": "calculate_task_distribution",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Query subtasks with filters for project metrics - analyzes subtask distribution by status/priority"
        }
      ],
      "implementation_notes": [
        "Returns: Array of filtered subtask objects",
        "Supports complex multi-dimensional filtering"
      ]
    },
    {
      "name": "update_subtask",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Subtask ID"
        },
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New name (NULL = don't update)"
        },
        {
          "name": "task_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "New task ID (NULL = don't update)"
        },
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed', 'blocked' (NULL = don't update)"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New description (NULL = don't update)"
        },
        {
          "name": "priority",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'low', 'medium', 'high', 'critical' (NULL = don't update)"
        }
      ],
      "purpose": "Update subtask metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_update",
          "execution_context": "update_subtask_status",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Update subtask status and metadata through central update directive"
        },
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "mark_complete",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark subtask as completed - sets status=completed and logs timestamp"
        }
      ],
      "implementation_notes": [
        "Returns: {success: true}",
        "NULL parameters = don't update that field",
        "SQL: UPDATE subtasks SET field=? WHERE id=?"
      ]
    },
    {
      "name": "delete_subtask",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Subtask ID"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'info', 'warning', 'error'"
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'ai' or 'user'"
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": "entry_deletion",
          "description": "'entry_deletion'"
        }
      ],
      "purpose": "Delete subtask with item validation (same logic as delete_task)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [],
      "implementation_notes": [
        "Returns error if completed/in_progress items exist",
        "Returns success after deleting subtask",
        "Validates no active items before allowing deletion",
        "Creates note record for audit trail"
      ]
    },
    {
      "name": "add_sidequest",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "paused_subtask_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "If sidequest during subtask"
        },
        {
          "name": "flow_ids",
          "type": "array",
          "required": true,
          "default": null,
          "description": "JSON array of flow IDs"
        }
      ],
      "purpose": "Add sidequest (urgent interruption)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Consider creating items for this sidequest"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Create sidequests during decomposition if user request includes exploratory or fix work"
        },
        {
          "directive_name": "project_sidequest_create",
          "execution_context": "create_sidequest_record",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Atomic sidequest creation - creates exploratory interruption with optional task link"
        }
      ],
      "implementation_notes": [
        "Returns: {success: true, id: new_id}",
        "Links to paused task or subtask for context"
      ]
    },
    {
      "name": "get_incomplete_sidequests",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [],
      "purpose": "Get all non-completed sidequests",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "If called during project_completion_check: no incomplete sidequests + all milestones complete = route to project_archive. Otherwise, report gaps to user."
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 12,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query all incomplete sidequests for status report - builds priority status tree (highest priority)"
        },
        {
          "directive_name": "project_auto_resume",
          "execution_context": "detect_unfinished_work",
          "sequence_order": 4,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Detect unfinished sidequests for auto-resume - identifies highest priority work"
        },
        {
          "directive_name": "project_auto_summary",
          "execution_context": "generate_summary",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query incomplete sidequests for project summary - lists urgent open work (shown first)"
        },
        {
          "directive_name": "project_completion_check",
          "execution_context": "check_completion_status",
          "sequence_order": 4,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check incomplete sidequests for completion validation - verifies all sidequests complete"
        }
      ],
      "implementation_notes": [
        "Returns: Array of sidequest objects",
        "SQL: SELECT * FROM sidequests WHERE status != 'completed'"
      ]
    },
    {
      "name": "get_sidequests_comprehensive",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed', 'blocked' (NULL = all)"
        },
        {
          "name": "limit",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Maximum results"
        },
        {
          "name": "date_range_created",
          "type": "array",
          "required": false,
          "default": null,
          "description": "[start_date, end_date]"
        },
        {
          "name": "date_range_updated",
          "type": "array",
          "required": false,
          "default": null,
          "description": "[start_date, end_date]"
        },
        {
          "name": "task_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Filter by paused task"
        },
        {
          "name": "subtask_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Filter by paused subtask"
        },
        {
          "name": "priority",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'low', 'medium', 'high', 'critical'"
        }
      ],
      "purpose": "Advanced sidequest search",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "get_existing_project_status",
          "sequence_order": 13,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Advanced sidequest query for detailed status report - filters sidequests by multiple criteria"
        },
        {
          "directive_name": "project_metrics",
          "execution_context": "calculate_task_distribution",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Query sidequests with filters for project metrics - analyzes sidequest distribution by status/priority"
        }
      ],
      "implementation_notes": [
        "Returns: Array of filtered sidequest objects",
        "Supports complex multi-dimensional filtering including parent task/subtask"
      ]
    },
    {
      "name": "get_sidequest_flows",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "sidequest_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Sidequest ID"
        }
      ],
      "purpose": "Get flow IDs for a sidequest",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_dependency_map",
          "execution_context": "generate_dependency_graph",
          "sequence_order": 8,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query flow IDs for sidequests in dependency graph - maps sidequest-flow relationships"
        }
      ],
      "implementation_notes": [
        "Returns: Array of flow IDs",
        "SQL: Extract flow_ids JSON from sidequest record"
      ]
    },
    {
      "name": "get_sidequest_files",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "sidequest_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Sidequest ID"
        }
      ],
      "purpose": "Get all files related to sidequest via flows (orchestrator)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_dependency_map",
          "execution_context": "generate_dependency_graph",
          "sequence_order": 9,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query files related to sidequests via flows - maps sidequest-file relationships through flows"
        }
      ],
      "implementation_notes": [
        "Returns: Array of file objects",
        "Chains: retrieve sidequest flows \u2192 get file IDs from flows \u2192 retrieve file details"
      ]
    },
    {
      "name": "update_sidequest",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Sidequest ID"
        },
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New name (NULL = don't update)"
        },
        {
          "name": "paused_task_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "New paused task ID (NULL = don't update)"
        },
        {
          "name": "paused_subtask_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "New paused subtask ID (NULL = don't update)"
        },
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'pending', 'in_progress', 'completed', 'blocked' (NULL = don't update)"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New description (NULL = don't update)"
        },
        {
          "name": "flow_ids",
          "type": "array",
          "required": false,
          "default": null,
          "description": "Array of flow IDs (NULL = don't update)"
        },
        {
          "name": "priority",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'low', 'medium', 'high', 'critical' (NULL = don't update)"
        }
      ],
      "purpose": "Update sidequest metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_update",
          "execution_context": "update_sidequest_status",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Update sidequest status and metadata through central update directive"
        },
        {
          "directive_name": "project_sidequest_complete",
          "execution_context": "mark_complete_and_log",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark sidequest as completed - sets status=completed, logs timestamp and outcome"
        }
      ],
      "implementation_notes": [
        "Returns: {success: true}",
        "NULL parameters = don't update that field",
        "SQL: UPDATE sidequests SET field=? WHERE id=?"
      ]
    },
    {
      "name": "delete_sidequest",
      "file_path": "helpers/project/subtasks_sidequests.py",
      "parameters": [
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Sidequest ID"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'info', 'warning', 'error'"
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'ai' or 'user'"
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": "entry_deletion",
          "description": "'entry_deletion'"
        }
      ],
      "purpose": "Delete sidequest with item validation (same logic as delete_task)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "project",
      "used_by_directives": [],
      "implementation_notes": [
        "Returns error if completed/in_progress items exist",
        "Returns success after deleting sidequest",
        "Validates no active items before allowing deletion",
        "Creates note record for audit trail"
      ]
    }
  ],
  "metadata": {
    "file": "helpers-project-8.json",
    "count": 14,
    "range": "helpers 89-102 of 112",
    "description": "Subtask and sidequest management operations (add, get, update, delete, queries)",
    "first_helper": "add_subtask",
    "last_helper": "delete_sidequest",
    "status": "return_statements complete - 2 helpers enhanced",
    "last_updated": "2026-01-02",
    "notes": "add_subtask and add_sidequest remind AI to create items for complete work tracking"
  }
}
