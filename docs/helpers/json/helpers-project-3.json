{
  "helpers": [
    {
      "name": "update_milestone",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Update milestone metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_milestone_complete",
          "execution_context": "mark_milestone_complete",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {
            "milestone_id": "workflow.milestone_id",
            "status": "completed",
            "completed_at": "current_timestamp"
          },
          "description": "Mark milestone as completed after all tasks finish - updates status and logs completion time"
        }
      ]
    },
    {
      "name": "delete_milestone",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete milestone with task validation",
      "error_handling": "- Calls `get_incomplete_tasks_by_milestone(milestone_id, skip_pending=false)`",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Error if incomplete tasks exist, success otherwise"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "add_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "flow_ids",
          "type": "array",
          "required": true,
          "default": null,
          "description": "JSON array of flow IDs"
        },
        {
          "name": "priority",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Default if not specified"
        }
      ],
      "purpose": "Add task to milestone",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": new_id}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {
            "milestone_id": "workflow.created_milestone_id",
            "name": "workflow.parsed_task_name",
            "description": "workflow.task_description",
            "flow_ids": "workflow.identified_flows",
            "priority": "workflow.task_priority"
          },
          "description": "Create tasks for milestone during user request decomposition - generates task hierarchy from high-level goals"
        },
        {
          "directive_name": "project_task_create",
          "execution_context": "create_task_record",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {
            "milestone_id": "workflow.validated_milestone_id",
            "name": "workflow.task_name",
            "description": "workflow.task_description",
            "flow_ids": "workflow.flow_ids",
            "priority": "workflow.priority"
          },
          "description": "Atomic task creation - validates inputs and creates task record in database"
        }
      ]
    },
    {
      "name": "get_incomplete_tasks_by_milestone",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "skip_pending",
          "type": "boolean",
          "required": true,
          "default": null,
          "description": "If true, excludes pending tasks"
        }
      ],
      "purpose": "Get open tasks for a milestone with related subtasks/sidequests",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json",
        "Ensures status=in_progress tasks included"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_complete",
          "execution_context": "check_milestone_status",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {
            "milestone_id": "workflow.milestone_id",
            "skip_pending": false
          },
          "description": "Check if all tasks in milestone are complete after task completion - determines if milestone_complete should be called"
        }
      ]
    },
    {
      "name": "get_incomplete_tasks",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all incomplete tasks with subtasks/sidequests",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Object with tasks, subtasks, sidequests arrays",
        "Comprehensive work overview"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_tasks_by_milestone",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all tasks for a milestone (any status)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of task objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_create",
          "execution_context": "check_duplicate_tasks",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {
            "milestone_id": "workflow.validated_milestone_id"
          },
          "description": "Check for duplicate task names before creating new task - prevents naming conflicts"
        }
      ]
    },
    {
      "name": "get_tasks_comprehensive",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Advanced task search with multiple filters",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of filtered task objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_task_flows",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get flow IDs for a task",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of flow IDs from flow_ids JSON field"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_task_files",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all files related to task via flows (orchestrator)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of file objects with full data",
        "Chains get_task_flows → get_file_ids_from_flows → get_from_project()"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "update_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Update task metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_update",
          "execution_context": "update_task_status_or_priority",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Central task state manager - updates status, priority, and metadata fields"
        },
        {
          "directive_name": "project_task_complete",
          "execution_context": "mark_complete_and_items",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark task as completed - sets status=completed and logs timestamp"
        },
        {
          "directive_name": "project_subtask_create",
          "execution_context": "pause_parent_task",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Pause parent task when subtask created - blocks parent progress until subtask complete"
        },
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "resume_parent_task",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Resume parent task when all subtasks complete - automatically continues parent work"
        },
        {
          "directive_name": "project_sidequest_complete",
          "execution_context": "resume_paused_task",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Resume paused task after sidequest completion if user chooses to continue original work"
        }
      ]
    },
    {
      "name": "delete_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete task with item validation",
      "error_handling": "- Calls `get_items_for_task(task_id)` (all statuses)",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Error if completed/in_progress items exist, success if only pending or no items"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "add_subtask",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Add subtask to task",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": new_id}`",
        "Subtasks inherit task's milestone and flows"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Create subtasks for tasks during decomposition if user request includes subtask-level granularity"
        },
        {
          "directive_name": "project_subtask_create",
          "execution_context": "create_subtask_record",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Atomic subtask creation - creates focused, high-priority subtask and pauses parent"
        }
      ]
    },
    {
      "name": "get_incomplete_subtasks",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all non-completed subtasks",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of subtask objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_incomplete_subtasks_by_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get incomplete subtasks for specific task",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of subtask objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_subtask_create",
          "execution_context": "check_active_subtasks",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check for existing active subtasks before creating new one - warns about context switching"
        },
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "check_parent_subtasks",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check if all subtasks complete to determine if parent task should resume"
        }
      ]
    },
    {
      "name": "get_subtasks_by_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get subtasks for task, optionally filtered by status",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of subtask objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "notify_remaining_work",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Show remaining pending subtasks to user after one subtask completes"
        }
      ]
    },
    {
      "name": "get_subtasks_comprehensive",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Advanced subtask search",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of filtered subtask objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "update_subtask",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Update subtask metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_update",
          "execution_context": "update_subtask_status",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Update subtask status and metadata through central update directive"
        },
        {
          "directive_name": "project_subtask_complete",
          "execution_context": "mark_complete",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark subtask as completed - sets status=completed and logs timestamp"
        }
      ]
    },
    {
      "name": "delete_subtask",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete subtask with item validation (same logic as delete_task)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Error or success based on item status"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "add_sidequest",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "paused_subtask_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "If sidequest during subtask"
        },
        {
          "name": "flow_ids",
          "type": "array",
          "required": true,
          "default": null,
          "description": "JSON array of flow IDs"
        }
      ],
      "purpose": "Add sidequest (urgent interruption)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": new_id}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_decomposition",
          "execution_context": "decompose_request",
          "sequence_order": 4,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Create sidequests during decomposition if user request includes exploratory or fix work"
        },
        {
          "directive_name": "project_sidequest_create",
          "execution_context": "create_sidequest_record",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Atomic sidequest creation - creates exploratory interruption with optional task link"
        }
      ]
    },
    {
      "name": "get_incomplete_sidequests",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all non-completed sidequests",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of sidequest objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_sidequests_comprehensive",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Advanced sidequest search",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of filtered sidequest objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_sidequest_flows",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get flow IDs for a sidequest",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of flow IDs"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_sidequest_files",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get all files related to sidequest via flows (orchestrator)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of file objects",
        "Chains get_sidequest_flows → get_file_ids_from_flows → get_from_project()"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "update_sidequest",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Update sidequest metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_task_update",
          "execution_context": "update_sidequest_status",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Update sidequest status and metadata through central update directive"
        },
        {
          "directive_name": "project_sidequest_complete",
          "execution_context": "mark_complete_and_log",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Mark sidequest as completed - sets status=completed, logs timestamp and outcome"
        }
      ]
    },
    {
      "name": "delete_sidequest",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete sidequest with item validation (same logic as delete_task)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Error or success based on item status"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_items_for_task",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get items for task, optionally filtered by status",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of item objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_item_create",
          "execution_context": "check_duplicate_items",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check for duplicate item names before creating new item - prevents naming conflicts"
        }
      ]
    },
    {
      "name": "get_items_for_subtask",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get items for subtask",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of item objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_items_for_sidequest",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get items for sidequest",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of item objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_incomplete_items",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "for_table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "\"tasks\", \"subtasks\", \"sidequests\" (accepts singular)"
        },
        {
          "name": "for_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Parent ID"
        }
      ],
      "purpose": "Get incomplete items for any parent type",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of incomplete item objects"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "delete_item",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete item with status validation",
      "error_handling": "Cannot delete in-progress/completed items, only pending",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "- Error if status is \"completed\" or \"in_progress\"",
        "Completed/in-progress items must stay, use notes for issues"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "add_note",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "content",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Note content/message"
        },
        {
          "name": "source",
          "type": "string",
          "required": false,
          "default": "ai",
          "description": "\"ai\" or \"user\" (default \"ai\")"
        },
        {
          "name": "severity",
          "type": "string",
          "required": false,
          "default": "info",
          "description": "\"info\", \"warning\", \"error\" (default \"info\")"
        },
        {
          "name": "directive_name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Directive context"
        }
      ],
      "purpose": "Add note to project database",
      "error_handling": "Returns error if project.db not initialized, otherwise continues silently",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": new_id}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_notes_log",
          "execution_context": "insert_note",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {
            "content": "clarification, reasoning, or context to log",
            "source": "ai (default) or user",
            "severity": "info (default), warning, or error",
            "directive_name": "optional directive context"
          },
          "description": "Log clarifications, reasoning, and directive execution context to project.db notes table. Used by other directives for transparent reasoning trails."
        },
        {
          "directive_name": "project_sidequest_complete",
          "execution_context": "capture_lessons_learned",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Log sidequest outcome and lessons learned to notes table - captures exploratory work results for future reference"
        }
      ]
    },
    {
      "name": "get_notes_comprehensive",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Advanced note search with filters",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of filtered note objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_auto_summary",
          "execution_context": "summarize_project_state",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Query notes for project summary generation - retrieves logged summaries, metrics, and project history"
        },
        {
          "directive_name": "project_metrics",
          "execution_context": "gather_metrics",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Read logged metrics from notes - retrieves historical metric data for analysis"
        }
      ]
    },
    {
      "name": "search_notes",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "search_string",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Required"
        }
      ],
      "purpose": "Search note content with optional filters",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of matching notes"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_auto_summary",
          "execution_context": "summarize_project_state",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Search specific keywords in notes for targeted summary - finds relevant context by search string"
        },
        {
          "directive_name": "project_metrics",
          "execution_context": "gather_metrics",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Search for specific metrics by keyword - targeted metric retrieval from notes"
        }
      ]
    },
    {
      "name": "update_note",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Update note metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "delete_note",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Delete note (discouraged)",
      "error_handling": "",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "project",
      "used_by_directives": []
    }
  ],
  "metadata": {
    "file": "helpers-project-3.json",
    "count": 35,
    "range": "helpers 78-112 of 112",
    "status": "Phase 8 Priority 6 & 8 COMPLETE - Task/milestone/subtask/sidequest/item/note helpers mapped to 12 directives",
    "mapped_helpers": 15,
    "unmapped_helpers": 20,
    "note": "20 helpers are query/CRUD tools for AI use only (get_incomplete_tasks, get_tasks_comprehensive, get_task_flows, get_task_files, delete_task, get_incomplete_subtasks, get_subtasks_comprehensive, delete_subtask, get_incomplete_sidequests, get_sidequests_comprehensive, get_sidequest_flows, get_sidequest_files, delete_sidequest, get_items_for_subtask, get_items_for_sidequest, get_incomplete_items, delete_item, update_note, delete_note, delete_milestone) - intentionally not mapped to directives",
    "total_mappings": 28,
    "last_updated": "2025-12-20"
  }
}