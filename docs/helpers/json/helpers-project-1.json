{
  "helpers": [
    {
      "name": "get_project_tables",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "List all tables in project database",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of table names"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_project_fields",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name to get fields for"
        }
      ],
      "purpose": "Get field names and types for a specific table",
      "error_handling": "Return error if table doesn't exist",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of field objects with name, type, nullable, etc."
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_project_schema",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get complete schema for project database",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Object mapping table names to field arrays"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_project_json_parameters",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name to get available fields for"
        }
      ],
      "purpose": "Get available fields for table to use with generic add/update operations",
      "error_handling": "Return error if table doesn't exist",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json",
        "Use with `add_project_entry()` or `update_project_entry()` for tables without specialized functions. Only include fields being set/updated in JSON - omit unchanged fields to prevent overwriting with empty values."
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_from_project",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "id_array",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "**MUST contain at least one ID**"
        }
      ],
      "purpose": "Get records by ID(s) - **EMPTY ARRAY NOT ALLOWED**",
      "error_handling": "- Return empty array if no matches",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of records",
        "Project DB is mutable - tables can grow large - must specify IDs"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_from_project_where",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "conditions",
          "type": "object",
          "required": true,
          "default": null,
          "description": "Field-value pairs (AND logic)"
        },
        {
          "name": "limit",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Maximum rows to return"
        },
        {
          "name": "orderby",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Sort order"
        }
      ],
      "purpose": "Flexible filtering with structured JSON conditions",
      "error_handling": "Return empty array if no matches, error if invalid fields",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of matching records",
        "Use this for \"get all\" queries with optional filtering"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "query_project",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "query",
          "type": "string",
          "required": true,
          "default": null,
          "description": "WHERE clause without \"WHERE\" keyword"
        }
      ],
      "purpose": "Execute complex SQL WHERE clause (advanced, rare use)",
      "error_handling": "Return error if SQL syntax invalid",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of matching rows",
        "Use Tier 2 whenever possible"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "add_project_entry",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "data",
          "type": "object",
          "required": true,
          "default": null,
          "description": "Field-value pairs"
        }
      ],
      "purpose": "Add new entry to project database",
      "error_handling": "Return error if used on restricted tables",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": new_id}`"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "update_project_entry",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Record ID"
        },
        {
          "name": "data",
          "type": "object",
          "required": true,
          "default": null,
          "description": "Field-value pairs to update"
        }
      ],
      "purpose": "Update existing entry",
      "error_handling": "Return error if ID not found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": id}`"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "delete_project_entry",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "table",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Table name"
        },
        {
          "name": "id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Record ID"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "\"info\", \"warning\", \"error\""
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "\"ai\" or \"user\""
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": null,
          "description": "\"entry_deletion\""
        }
      ],
      "purpose": "Smart delete with automatic routing to specialized functions when needed",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Logs all successful deletions to notes table"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "create_project",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Project name (e.g., 'MatrixCalculator')"
        },
        {
          "name": "purpose",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Project purpose (e.g., 'Build a pure functional matrix math library')"
        },
        {
          "name": "goals",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of goal strings (e.g., ['Fast computation', 'No OOP'])"
        },
        {
          "name": "status",
          "type": "string",
          "required": true,
          "default": "active",
          "description": "'active', 'paused', 'completed', 'abandoned'"
        },
        {
          "name": "version",
          "type": "integer",
          "required": true,
          "default": 1,
          "description": "Tracks idea evolution (starts at 1)"
        },
        {
          "name": "user_directives_status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "NULL (no user directives), 'in_progress', 'active', 'disabled'"
        }
      ],
      "purpose": "Initialize project entry (one per database)",
      "error_handling": "Return error if project already exists",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"project_id\": 1}`",
        "last_known_git_hash and last_git_sync auto-populated"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_init",
          "execution_context": "create_project_structure",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Initialize project entry during .aifp-project/ creation - creates single project record with metadata"
        }
      ]
    },
    {
      "name": "get_project",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Get project metadata (single entry)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Project object"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_blueprint_read",
          "execution_context": "database_fallback",
          "sequence_order": 1,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Fallback to database when ProjectBlueprint.md missing - retrieves project metadata from database"
        },
        {
          "directive_name": "project_blueprint_update",
          "execution_context": "read_current_blueprint",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Get current project version before updating blueprint - checks version for increment"
        }
      ]
    },
    {
      "name": "update_project",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Project name (NULL = don't update)"
        },
        {
          "name": "purpose",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Project purpose (NULL = don't update)"
        },
        {
          "name": "goals",
          "type": "array",
          "required": false,
          "default": null,
          "description": "Array of goal strings (NULL = don't update)"
        },
        {
          "name": "status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "'active', 'paused', 'completed', 'abandoned' (NULL = don't update)"
        },
        {
          "name": "version",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Version number (NULL = don't update)"
        },
        {
          "name": "user_directives_status",
          "type": "string",
          "required": false,
          "default": null,
          "description": "NULL, 'in_progress', 'active', 'disabled' (NULL = don't update)"
        }
      ],
      "purpose": "Update project metadata",
      "error_handling": "Return error if no project exists",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`",
        "Only updates fields with non-NULL values"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_blueprint_update",
          "execution_context": "update_version_and_date",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {
            "version": "incremented_version",
            "last_updated": "current_timestamp"
          },
          "description": "Increment project version after blueprint update - updates version and last_updated timestamp in database"
        }
      ]
    },
    {
      "name": "blueprint_has_changed",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [],
      "purpose": "Check if ProjectBlueprint.md has changed using Git or filesystem timestamp",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"changed\": boolean, \"method\": \"git|filesystem\"}`"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_blueprint_read",
          "execution_context": "parse_complete",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Check if blueprint changed since last read - uses Git diff or filesystem timestamp for staleness detection"
        },
        {
          "directive_name": "project_blueprint_update",
          "execution_context": "validate_parameters",
          "sequence_order": 1,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Pre-check if blueprint already modified - prevents conflicting updates"
        }
      ]
    },
    {
      "name": "get_infrastructure_by_type",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "type",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Infrastructure type (e.g., 'language', 'package', 'testing', 'database', 'build_tool')"
        }
      ],
      "purpose": "Get all infrastructure of specific type",
      "error_handling": "Return empty array if none found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of infrastructure objects"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_init",
          "execution_context": "create_project_structure",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check and populate initial infrastructure during project initialization - verifies database, language, build tool"
        },
        {
          "directive_name": "project_blueprint_read",
          "execution_context": "database_fallback",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Query infrastructure when blueprint missing - retrieves language, runtime, build tool from database"
        }
      ]
    },
    {
      "name": "reserve_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Preliminary file name (will have -IDxxx appended)"
        },
        {
          "name": "path",
          "type": "string",
          "required": true,
          "default": null,
          "description": "File path relative to project root"
        },
        {
          "name": "language",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Programming language (e.g., 'python', 'javascript', 'typescript')"
        }
      ],
      "purpose": "Reserve file ID for naming before creation",
      "error_handling": "Return error if path already exists",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": reserved_id, \"is_reserved\": true}`",
        "Sets is_reserved=true, created_at auto-set by trigger",
        "Use returned ID in filename as suffix -IDxx",
        "Once created, call finalize_file()"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_reserve_finalize",
          "execution_context": "reserve_file_name",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reserve file ID before writing code - AI embeds ID in filename for instant lookups (filename_id_42.py)"
        },
        {
          "directive_name": "project_file_write",
          "execution_context": "reserve_before_write",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reserve file ID before generating file content - enables rename-proof references"
        }
      ]
    },
    {
      "name": "reserve_files",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "files",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of file objects [{name, path, language}, ...]"
        }
      ],
      "purpose": "Reserve multiple file IDs at once",
      "error_handling": "Return error if any path already exists",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"ids\": [id1, id2, ...]}`",
        "Use returned IDs in filenames as suffix -IDxx"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "finalize_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Reserved ID"
        },
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Final name with -ID_xx suffix"
        },
        {
          "name": "path",
          "type": "string",
          "required": true,
          "default": null,
          "description": "File path"
        },
        {
          "name": "language",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Language"
        }
      ],
      "purpose": "Finalize reserved file after creation",
      "error_handling": "Return error if file doesn't exist at path",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"file_id\": file_id}`",
        "Checks file exists, sets is_reserved=false"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_reserve_finalize",
          "execution_context": "finalize_reservation",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize file after code written - sets is_reserved=false and confirms file exists on filesystem"
        },
        {
          "directive_name": "project_file_write",
          "execution_context": "finalize_after_write",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize file reservation after successful file generation"
        },
        {
          "directive_name": "project_update_db",
          "execution_context": "finalize_new_files",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize file reservations when updating database with new file metadata"
        }
      ]
    },
    {
      "name": "finalize_files",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "files",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of file objects [{file_id, name, path, language}, ...]"
        }
      ],
      "purpose": "Finalize multiple reserved files",
      "error_handling": "Return error if any file doesn't exist at path",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"finalized_ids\": [...]}`",
        "Checks each file exists, sets is_reserved=false for all"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_file_by_name",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "File name to look up (e.g., 'calculator-ID42.py')"
        }
      ],
      "purpose": "Get file by name (high-frequency lookup)",
      "error_handling": "Return null if not found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "File object or null",
        "Zero cognitive load for common file lookups"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_file_by_path",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_path",
          "type": "string",
          "required": true,
          "default": null,
          "description": "File path to look up (e.g., 'src/calculator.py')"
        }
      ],
      "purpose": "Get file by path (very high-frequency lookup)",
      "error_handling": "Return null if not found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "File object or null",
        "Most common file lookup method"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_file_read",
          "execution_context": "load_with_context",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Load file metadata from database by path - provides full context including functions, dependencies, theme/flow associations"
        },
        {
          "directive_name": "project_file_delete",
          "execution_context": "check_file_tracked",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Check if file exists in database before deletion - ensures proper cleanup of DB records"
        }
      ]
    },
    {
      "name": "update_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID to update"
        },
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New file name (NULL = don't update)"
        },
        {
          "name": "path",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New file path (NULL = don't update)"
        },
        {
          "name": "language",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Language (NULL = don't update)"
        }
      ],
      "purpose": "Update file metadata",
      "error_handling": "Return error if file_id not found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"file_id\": file_id}`",
        "Timestamp and checksum automatically updated",
        "If name or path changed, ensure code references are updated"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_update_db",
          "execution_context": "update_files_table",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Update file metadata after code generation - synchronizes checksum and file information"
        }
      ]
    },
    {
      "name": "file_has_changed",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID to check"
        }
      ],
      "purpose": "Check if file changed using Git (if available) or filesystem timestamp",
      "error_handling": "Return error if file_id not found",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"changed\": boolean, \"method\": \"git|filesystem\"}`",
        "Uses Git diff if available, falls back to filesystem timestamp comparison"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_file_read",
          "execution_context": "check_checksum_mismatch",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Detect if file changed since last DB update - warns user about potential staleness"
        }
      ]
    },
    {
      "name": "update_file_timestamp",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID to update timestamp for"
        }
      ],
      "purpose": "Update file timestamp (called automatically after function updates)",
      "error_handling": "Return error if file_id not found",
      "is_tool": false,
      "is_sub_helper": true,
      "return_statements": [
        "`{\"success\": true}`",
        "Called automatically after function updates, sub-helper only",
        "Updates updated_at timestamp and recalculates checksum"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "delete_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID to delete"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'info', 'warning', 'error'"
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'ai' or 'user'"
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": "entry_deletion",
          "description": "'entry_deletion'"
        }
      ],
      "purpose": "Delete file with comprehensive cross-reference validation",
      "error_handling": "Return error if functions/flows exist for file - requires manual cleanup first",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"deleted_file_id\": file_id}`",
        "Cascades delete to functions and interactions",
        "Logs deletion to notes table"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_file_delete",
          "execution_context": "delete_file_and_db_records",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Delete file from filesystem and database with cascade cleanup of functions and interactions"
        }
      ]
    },
    {
      "name": "reserve_function",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Function name (will have _idxxx appended)"
        },
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID where function will be defined"
        },
        {
          "name": "purpose",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Function purpose"
        },
        {
          "name": "params",
          "type": "array",
          "required": false,
          "default": null,
          "description": "Function parameters"
        },
        {
          "name": "returns",
          "type": "object",
          "required": false,
          "default": null,
          "description": "Return value specification"
        }
      ],
      "purpose": "Reserve function ID for naming before creation",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": reserved_id, \"is_reserved\": true}`",
        "Sets is_reserved=true"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_reserve_finalize",
          "execution_context": "reserve_function_name",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reserve function ID before writing code - AI embeds ID in function name for instant lookups (function_name_id_99)"
        },
        {
          "directive_name": "project_file_write",
          "execution_context": "reserve_before_write",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reserve function IDs before generating function code - enables rename-proof references"
        }
      ]
    },
    {
      "name": "reserve_functions",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "functions",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of function objects [{name, file_id, purpose, params, returns}, ...]"
        }
      ],
      "purpose": "Reserve multiple function IDs",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"ids\": [...]}`"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "finalize_function",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "function_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Reserved function ID"
        },
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Final name with _idxx suffix"
        },
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID"
        },
        {
          "name": "purpose",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Function purpose"
        },
        {
          "name": "params",
          "type": "array",
          "required": false,
          "default": null,
          "description": "Function parameters"
        },
        {
          "name": "returns",
          "type": "object",
          "required": false,
          "default": null,
          "description": "Return value specification"
        }
      ],
      "purpose": "Finalize reserved function after creation",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"function_id\": function_id, \"file_id\": file_id}`",
        "Sets is_reserved=false, calls update_file_timestamp(file_id)"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_reserve_finalize",
          "execution_context": "finalize_reservation",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize function after code written - sets is_reserved=false and updates file timestamp"
        },
        {
          "directive_name": "project_file_write",
          "execution_context": "finalize_after_write",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize function reservations after successful code generation"
        },
        {
          "directive_name": "project_update_db",
          "execution_context": "finalize_new_functions",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Finalize function reservations when updating database with new function metadata"
        }
      ]
    },
    {
      "name": "finalize_functions",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "functions",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of function objects [{function_id, name, file_id, purpose, params, returns}, ...]"
        }
      ],
      "purpose": "Finalize multiple reserved functions",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"finalized_ids\": [...]}`",
        "Calls update_file_timestamp for each unique file_id"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_function_by_name",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "function_name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Function name to look up"
        }
      ],
      "purpose": "Get function by name (very high-frequency lookup)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Function object with interaction data or null",
        "Most common function lookup method"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "get_functions_by_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID to get functions for"
        }
      ],
      "purpose": "Get all functions in a file (high-frequency)",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of function objects with interaction data"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_file_read",
          "execution_context": "load_with_context",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Load all functions for file with context - provides complete file metadata including function dependencies"
        }
      ]
    },
    {
      "name": "update_function",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "function_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Function ID to update"
        },
        {
          "name": "name",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New function name (NULL = don't update)"
        },
        {
          "name": "purpose",
          "type": "string",
          "required": false,
          "default": null,
          "description": "New purpose (NULL = don't update)"
        },
        {
          "name": "parameters",
          "type": "array",
          "required": false,
          "default": null,
          "description": "New parameters (NULL = don't update)"
        },
        {
          "name": "returns",
          "type": "object",
          "required": false,
          "default": null,
          "description": "New return specification (NULL = don't update)"
        }
      ],
      "purpose": "Update function metadata",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"function_id\": function_id, \"file_id\": file_id}`",
        "Calls update_file_timestamp(file_id) "
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_update_db",
          "execution_context": "update_functions_table",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Update function metadata after code generation - synchronizes dependencies and function information"
        }
      ]
    },
    {
      "name": "update_functions_for_file",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "File ID"
        },
        {
          "name": "functions",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of function update objects [{function_id, name, purpose, parameters, returns}, ...]"
        }
      ],
      "purpose": "Update multiple functions in a single file",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"updated_count\": count}`",
        "Single update_file_timestamp call at end"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_update_db",
          "execution_context": "update_functions_table",
          "sequence_order": 3,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Batch update multiple functions in same file - more efficient than individual updates"
        }
      ]
    },
    {
      "name": "update_function_file_location",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "function_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Function ID to move"
        },
        {
          "name": "old_file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Current file ID"
        },
        {
          "name": "new_file_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "New file ID"
        }
      ],
      "purpose": "Move function to different file (rarely used)",
      "error_handling": "Return error if function_id/file_ids not found",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true}`",
        "Calls update_file_timestamp for both files"
      ],
      "target_database": "project",
      "used_by_directives": []
    },
    {
      "name": "delete_function",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "function_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Function ID to delete"
        },
        {
          "name": "note_reason",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Deletion reason"
        },
        {
          "name": "note_severity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'info', 'warning', 'error'"
        },
        {
          "name": "note_source",
          "type": "string",
          "required": true,
          "default": null,
          "description": "'ai' or 'user'"
        },
        {
          "name": "note_type",
          "type": "string",
          "required": true,
          "default": "entry_deletion",
          "description": "'entry_deletion'"
        }
      ],
      "purpose": "Delete function with cascade cleanup",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"file_id\": file_id}`",
        "- Deletes all types with function_id"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_file_delete",
          "execution_context": "delete_file_and_db_records",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Cascade delete all functions in file - automatically deletes types and interactions"
        }
      ]
    },
    {
      "name": "reserve_type",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Type name (will have _idxxx appended)"
        },
        {
          "name": "definition_json",
          "type": "object",
          "required": true,
          "default": null,
          "description": "ADT definition (e.g., {'type': 'enum', 'variants': ['A', 'B']})"
        },
        {
          "name": "description",
          "type": "string",
          "required": false,
          "default": null,
          "description": "Type description"
        },
        {
          "name": "links",
          "type": "object",
          "required": false,
          "default": null,
          "description": "Links to related functions"
        },
        {
          "name": "file_id",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "File ID where type is defined"
        }
      ],
      "purpose": "Reserve type ID for naming before creation",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"id\": reserved_id, \"is_reserved\": true}`",
        "Sets is_reserved=true"
      ],
      "target_database": "project",
      "used_by_directives": [
        {
          "directive_name": "project_reserve_finalize",
          "execution_context": "reserve_type_name",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Reserve type ID before writing code - AI embeds ID in type name for instant lookups (TypeName_id_7)"
        }
      ]
    },
    {
      "name": "reserve_types",
      "file_path": "TODO_helpers/project/module.py",
      "parameters": [
        {
          "name": "types",
          "type": "array",
          "required": true,
          "default": null,
          "description": "Array of type objects [{name, definition_json, description, links, file_id}, ...]"
        }
      ],
      "purpose": "Reserve multiple type IDs",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "`{\"success\": true, \"ids\": [...]}`"
      ],
      "target_database": "project",
      "used_by_directives": []
    }
  ],
  "metadata": {
    "file": "helpers-project-1.json",
    "count": 37,
    "range": "helpers 1-37 of 112",
    "status": "Phase 8 Priority 6, 7 & 8 COMPLETE - File/function, blueprint, infrastructure helpers mapped",
    "mapped_helpers": 20,
    "unmapped_helpers": 17,
    "note": "17 helpers are schema/query/batch/CRUD tools for AI use only (get_project_tables, get_project_fields, get_project_schema, get_project_json_parameters, get_from_project, get_from_project_where, query_project, add_project_entry, update_project_entry, delete_project_entry, reserve_files, finalize_files, reserve_functions, finalize_functions, reserve_types, finalize_types, get_file_by_name) - intentionally not mapped to directives",
    "total_mappings": 28,
    "last_updated": "2025-12-20"
  }
}