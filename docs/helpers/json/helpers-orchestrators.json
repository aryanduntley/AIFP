{
  "helpers": [
    {
      "name": "aifp_run",
      "file_path": "helpers/orchestrators/orchestrators.py",
      "parameters": [
        {
          "name": "user_request",
          "type": "string",
          "required": true,
          "default": null,
          "description": "The user's natural language request"
        },
        {
          "name": "get_status",
          "type": "boolean",
          "required": false,
          "default": false,
          "description": "Whether to fetch comprehensive status. Use true for first interaction or after major state changes. Use false (default) for continuation work."
        }
      ],
      "purpose": "Main entry point orchestrator. Routes requests and optionally fetches comprehensive status.",
      "error_handling": "Returns error message if database not accessible. Returns empty suggestions if no directives match.",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "If get_status=true: Returns comprehensive project state from aifp_status",
        "If get_status=false: Returns common directive starting points only",
        "Always includes: Guidance on querying directive_flow table with get_next_directives_from_status()",
        "Always includes: Suggestion on when to call aifp_run(get_status=true) for fresh status",
        "Directive suggestions based on user_request keywords"
      ],
      "target_database": "orchestrator",
      "used_by_directives": [
        {
          "directive_name": "aifp_run",
          "execution_context": "self_invocation",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "aifp_run directive uses aifp_run helper as entry point orchestrator"
        }
      ]
    },
    {
      "name": "get_current_progress",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "scope",
          "type": "string",
          "required": false,
          "default": null,
          "description": "What information to retrieve"
        },
        {
          "name": "detail_level",
          "type": "string",
          "required": false,
          "default": null,
          "description": "How much detail to return"
        },
        {
          "name": "filters",
          "type": "object",
          "required": false,
          "default": null,
          "description": "WHERE-like conditions"
        }
      ],
      "purpose": "Single entry point for all project status queries. Replaces 5-10 separate helper calls with one flexible query.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "update_project_state",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "action",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Operation to perform"
        },
        {
          "name": "target_type",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Entity type"
        },
        {
          "name": "target_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "ID of target entity"
        },
        {
          "name": "data",
          "type": "object",
          "required": false,
          "default": null,
          "description": "Action-specific data"
        },
        {
          "name": "create_note",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "Auto-log action as note"
        }
      ],
      "purpose": "Single entry point for common project state updates. Simplifies task lifecycle management and progress tracking.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "batch_update_progress",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "updates",
          "type": "array",
          "required": true,
          "default": null,
          "description": "List of update operation objects"
        },
        {
          "name": "transaction",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "All-or-nothing commit vs independent updates"
        },
        {
          "name": "continue_on_error",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "Stop on first error or continue processing"
        },
        {
          "name": "rollback_on_partial_failure",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "If transaction=true and any update fails, rollback all"
        }
      ],
      "purpose": "Update multiple project items atomically. Used after code generation or bulk operations to ensure consistency.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "query_project_state",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "entity",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Primary table to query"
        },
        {
          "name": "filters",
          "type": "object",
          "required": false,
          "default": null,
          "description": "WHERE-like conditions with operators"
        },
        {
          "name": "joins",
          "type": "array",
          "required": false,
          "default": null,
          "description": "Relations to include (LEFT JOIN)"
        },
        {
          "name": "sort",
          "type": "string",
          "required": false,
          "default": null,
          "description": "ORDER BY clause"
        },
        {
          "name": "limit",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Maximum results (pagination)"
        },
        {
          "name": "offset",
          "type": "integer",
          "required": false,
          "default": null,
          "description": "Skip first N results (pagination)"
        }
      ],
      "purpose": "Flexible SQL-like query interface for complex project queries. Provides powerful filtering and joining capabilities without writing SQL.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Array of entity objects with requested joins included"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "validate_initialization",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "aifp_dir",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Path to .aifp-project/ directory"
        }
      ],
      "purpose": "Validate that project initialization is complete and correct. Performs comprehensive structural validation.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "get_work_context",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "work_item_type",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Type of work item"
        },
        {
          "name": "work_item_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "ID of work item"
        },
        {
          "name": "include_interactions",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "Include function dependency interactions"
        },
        {
          "name": "include_history",
          "type": "boolean",
          "required": false,
          "default": null,
          "description": "Include note history for work item"
        }
      ],
      "purpose": "Get complete context for resuming work. Single call retrieves task/subtask/sidequest + flows + files + functions + interactions. Optimized for session resumption.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "```json"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "aifp_status",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "type",
          "type": "string",
          "required": false,
          "default": "summary",
          "description": "'quick', 'summary', 'detailed' - level of detail to return"
        }
      ],
      "purpose": "Status orchestrator optimized for directive navigation decision tree. Returns comprehensive project state with completion flags and next-step suggestions designed to feed the `get_next_directives_from_status()` system.",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [
        "Complete status object with:"
      ],
      "target_database": "orchestrator",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "self_invocation",
          "sequence_order": 1,
          "is_required": true,
          "parameters_mapping": {},
          "description": "aifp_status directive uses aifp_status helper as main orchestrator - retrieves comprehensive project state, builds priority status tree, checks completion flags, provides next-step suggestions"
        },
        {
          "directive_name": "aifp_run",
          "execution_context": "get_status_when_requested",
          "sequence_order": 2,
          "is_required": false,
          "parameters_mapping": {},
          "description": "Called by aifp_run when get_status=true parameter is passed - provides comprehensive status for fresh context"
        }
      ]
    },
    {
      "name": "get_project_status",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "type",
          "type": "string",
          "required": false,
          "default": "summary",
          "description": "'quick', 'summary', 'detailed' - status detail level"
        }
      ],
      "purpose": "Analyze entire work hierarchy and return comprehensive project status",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": true,
      "return_statements": [
        "```json",
        "This is NOT a simple field getter - it analyzes the entire work hierarchy and provides detailed status analysis for AI to understand project progress."
      ],
      "target_database": "orchestrator",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "analyze_work_hierarchy",
          "sequence_order": 2,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Sub-helper used by aifp_status to analyze complete work hierarchy (completion paths, milestones, tasks, subtasks, sidequests) and calculate progress metrics"
        }
      ]
    },
    {
      "name": "get_project_context",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "type",
          "type": "string",
          "required": true,
          "default": null,
          "description": "Context type: \"blueprint\", \"metadata\", \"status\", \"infrastructure\""
        }
      ],
      "purpose": "Get structured project overview for different contexts",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": false,
      "return_statements": [],
      "target_database": "orchestrator",
      "used_by_directives": []
    },
    {
      "name": "get_status_tree",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [],
      "purpose": "Get hierarchical view of all work items with nested structure",
      "error_handling": "",
      "is_tool": true,
      "is_sub_helper": true,
      "return_statements": [
        "```json",
        "Provides complete hierarchical view for visualization and progress tracking"
      ],
      "target_database": "orchestrator",
      "used_by_directives": [
        {
          "directive_name": "aifp_status",
          "execution_context": "build_status_tree",
          "sequence_order": 3,
          "is_required": true,
          "parameters_mapping": {},
          "description": "Sub-helper used by aifp_status to build hierarchical tree view of work items with nested structure - used for priority status display"
        }
      ]
    },
    {
      "name": "get_files_by_flow_context",
      "file_path": "TODO_helpers/orchestrator/module.py",
      "parameters": [
        {
          "name": "flow_id",
          "type": "integer",
          "required": true,
          "default": null,
          "description": "Flow ID"
        }
      ],
      "purpose": "Get all files for a flow with functions embedded",
      "error_handling": "",
      "is_tool": false,
      "is_sub_helper": false,
      "return_statements": [
        "```json",
        "Useful for understanding complete flow implementation with all associated functions"
      ],
      "target_database": "orchestrator",
      "used_by_directives": []
    }
  ],
  "metadata": {
    "file": "helpers-orchestrators.json",
    "count": 12,
    "status": "Phase 8 Priority 4 COMPLETE - Orchestrator helpers mapped to 2 directives (aifp_run, aifp_status)",
    "mapped_helpers": 4,
    "unmapped_helpers": 8,
    "note": "8 helpers are query/convenience tools for AI (get_current_progress, update_project_state, batch_update_progress, query_project_state, validate_initialization, get_work_context, get_project_context, get_files_by_flow_context) - intentionally not mapped to directives. These are AI tools, not directive tools.",
    "total_mappings": 5,
    "last_updated": "2025-12-20"
  }
}