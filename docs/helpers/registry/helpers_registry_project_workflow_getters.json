{
  "metadata": {
    "version": "1.0.0",
    "last_updated": "2025-11-29",
    "description": "Project Database helpers - Workflow READ operations (tasks, subtasks, sidequests, themes, flows, milestones, notes, items, completion_path)",
    "database": "project.db",
    "target_database": "project",
    "total_helpers": 53,
    "schema_version": "1.0",
    "notes": "This registry is for import into MCP database. AI uses get_helpers_by_database('project') to find these helpers."
  },
  "helper_schema": {
    "description": "Schema definition for helper entries",
    "fields": {
      "name": "Function name",
      "file_path": "Path to implementation file",
      "database": "Which database this helper operates on",
      "target_database": "CHECK constraint value for aifp_core.db",
      "purpose": "Detailed description of what this helper does",
      "parameters": "Array of parameter objects with name and type",
      "return_statements": "Array of AI behavioral guidance - what to check/do next after calling this helper",
      "error_handling": "How errors are handled",
      "used_by_directives": "Array of directive names that use this helper",
      "is_tool": "Boolean - exposed via MCP as tool",
      "is_sub_helper": "Boolean - internal utility helper not directly called by AI/directives",
      "calls_helpers": "Array of helper names this function calls"
    }
  },
  "database": "project.db",
  "file_location": "src/aifp/helpers/project/",
  "helpers": [
    {
      "name": "get_theme",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get theme by ID.",
      "parameters": [
        {
          "name": "theme_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single theme record or None if not found",
        "Check if flows should be added to flow_themes table for this theme"
      ],
      "error_handling": "Returns None if theme_id not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_theme_by_name",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get theme by name.",
      "parameters": [
        {
          "name": "theme_name",
          "type": "str",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single theme record or None if not found",
        "Use for lookups when only theme name is known"
      ],
      "error_handling": "Returns None if theme_name not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_all_themes",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all themes in project.",
      "parameters": [],
      "return_statements": [
        "Returns array of all theme records",
        "Empty array if no themes exist",
        "Use to understand project organization structure"
      ],
      "error_handling": "Returns empty array if no themes exist.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_themes_by_maker",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get themes created by AI or user.",
      "parameters": [
        {
          "name": "who_generated",
          "type": "str",
          "required": true,
          "values": [
            "ai",
            "user"
          ]
        }
      ],
      "return_statements": [
        "Returns array of themes filtered by creator",
        "Empty array if no themes match",
        "Use to distinguish AI-generated vs user-defined themes"
      ],
      "error_handling": "Returns empty array if no matches found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_themes_by_confidence",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get themes with confidence score greater than or equal to threshold.",
      "parameters": [
        {
          "name": "greater_than",
          "type": "float",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of themes with confidence >= threshold",
        "Empty array if no themes meet threshold",
        "Use to filter high-confidence theme suggestions"
      ],
      "error_handling": "Returns empty array if no themes meet threshold.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_theme_name_by_id",
      "file_path": "src/aifp/helpers/project/queries/theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get theme name by ID.",
      "parameters": [
        {
          "name": "theme_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns theme name string or None if not found",
        "Convenience helper for quick name lookups"
      ],
      "error_handling": "Returns None if theme_id not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flow",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flow by ID.",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single flow record or None if not found",
        "Check if files should be linked in file_flows table for this flow"
      ],
      "error_handling": "Returns None if flow_id not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flows",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get multiple flows by array of IDs.",
      "parameters": [
        {
          "name": "flow_ids",
          "type": "list[int]",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flow records matching provided IDs",
        "Empty array if no flows found",
        "Use for batch flow retrieval"
      ],
      "error_handling": "Returns empty array if no flows match IDs.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_all_flows",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all flows in project.",
      "parameters": [],
      "return_statements": [
        "Returns array of all flow records",
        "Empty array if no flows exist",
        "Use to understand project workflow structure"
      ],
      "error_handling": "Returns empty array if no flows exist.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_file_ids_from_flows",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all file IDs associated with array of flow IDs.",
      "parameters": [
        {
          "name": "flow_ids",
          "type": "list[int]",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of file IDs from file_flows table",
        "Empty array if no files linked to flows",
        "Use with get_files() to retrieve full file data"
      ],
      "error_handling": "Returns empty array if no files linked to flows.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flows_by_maker",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flows created by AI or user.",
      "parameters": [
        {
          "name": "who_generated",
          "type": "str",
          "required": true,
          "values": [
            "ai",
            "user"
          ]
        }
      ],
      "return_statements": [
        "Returns array of flows filtered by creator",
        "Empty array if no flows match",
        "Use to distinguish AI-generated vs user-defined flows"
      ],
      "error_handling": "Returns empty array if no matches found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flows_by_confidence",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flows with confidence score greater than or equal to threshold.",
      "parameters": [
        {
          "name": "greater_than",
          "type": "float",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flows with confidence >= threshold",
        "Empty array if no flows meet threshold",
        "Use to filter high-confidence flow suggestions"
      ],
      "error_handling": "Returns empty array if no flows meet threshold.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flow_name_by_id",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flow name by ID.",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns flow name string or None if not found",
        "Convenience helper for quick name lookups"
      ],
      "error_handling": "Returns None if flow_id not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flow_names_by_ids",
      "file_path": "src/aifp/helpers/project/queries/flow_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flow names for multiple flow IDs.",
      "parameters": [
        {
          "name": "flow_ids",
          "type": "list[int]",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flow names",
        "Empty array if no flows found",
        "Use for batch name lookups"
      ],
      "error_handling": "Returns empty array if no flows match IDs.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_flows_for_theme",
      "file_path": "src/aifp/helpers/project/queries/flow_theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all flows associated with a theme.",
      "parameters": [
        {
          "name": "theme_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flow records linked to theme",
        "Empty array if no flows linked",
        "Use to understand theme composition"
      ],
      "error_handling": "Returns empty array if no flows linked to theme.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_themes_for_flow",
      "file_path": "src/aifp/helpers/project/queries/flow_theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all themes associated with a flow.",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of theme records linked to flow",
        "Empty array if no themes linked",
        "A flow can touch multiple themes"
      ],
      "error_handling": "Returns empty array if no themes linked to flow.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_all_flow_themes",
      "file_path": "src/aifp/helpers/project/queries/flow_theme_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all flow-theme associations.",
      "parameters": [],
      "return_statements": [
        "Returns array of all flow_themes junction records",
        "Empty array if no associations exist",
        "Use to understand complete flow-theme mapping"
      ],
      "error_handling": "Returns empty array if no associations exist.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_all_completion_paths",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all completion path stages ordered by order_index.",
      "parameters": [],
      "return_statements": [
        "Returns array of all completion path stages ordered by order_index",
        "Empty array if no stages exist",
        "Use to understand project roadmap structure"
      ],
      "error_handling": "Returns empty array if no completion paths exist.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_completion_path_by_order",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get completion path stage by order_index.",
      "parameters": [
        {
          "name": "order_index",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single completion path stage or None if not found",
        "Use to access specific stage in roadmap"
      ],
      "error_handling": "Returns None if order_index not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_completion_path_by_id",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get completion path stage by ID.",
      "parameters": [
        {
          "name": "id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single completion path stage or None if not found",
        "Use when stage ID is known"
      ],
      "error_handling": "Returns None if ID not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_next_completion_path",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get next incomplete completion path stage (lowest order_index where status != completed).",
      "parameters": [],
      "return_statements": [
        "Returns next incomplete stage or None if all completed",
        "Use to determine current project focus",
        "If None returned, project completion path is complete"
      ],
      "error_handling": "Returns None if all stages completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_completion_paths_by_status",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get completion path stages filtered by status, ordered by order_index.",
      "parameters": [
        {
          "name": "status",
          "type": "str",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of stages matching status, ordered by order_index",
        "Empty array if no stages match",
        "Common statuses: 'pending', 'in_progress', 'completed'"
      ],
      "error_handling": "Returns empty array if no stages match status.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_completion_paths",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all incomplete completion path stages (status != completed), ordered by order_index.",
      "parameters": [],
      "return_statements": [
        "Returns array of incomplete stages ordered by order_index",
        "Empty array if all stages completed",
        "Use to see remaining project roadmap"
      ],
      "error_handling": "Returns empty array if all stages completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_completion_paths",
      "file_path": "src/aifp/helpers/project/queries/completion_path_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get multiple completion path stages by array of IDs.",
      "parameters": [
        {
          "name": "ids",
          "type": "list[int]",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of completion path stages matching provided IDs",
        "Empty array if no stages found",
        "Use for batch stage retrieval"
      ],
      "error_handling": "Returns empty array if no stages match IDs.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_milestones_by_path",
      "file_path": "src/aifp/helpers/project/queries/milestone_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all milestones for a completion path stage.",
      "parameters": [
        {
          "name": "path_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of milestones linked to completion path stage",
        "Empty array if no milestones exist for stage",
        "Use to understand stage breakdown"
      ],
      "error_handling": "Returns empty array if no milestones for path.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_milestones_by_status",
      "file_path": "src/aifp/helpers/project/queries/milestone_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get milestones filtered by status.",
      "parameters": [
        {
          "name": "status",
          "type": "str",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of milestones matching status",
        "Empty array if no milestones match",
        "Common statuses: 'pending', 'in_progress', 'completed'"
      ],
      "error_handling": "Returns empty array if no milestones match status.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_milestones",
      "file_path": "src/aifp/helpers/project/queries/milestone_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all milestones with status != completed.",
      "parameters": [],
      "return_statements": [
        "Returns array of incomplete milestones",
        "Empty array if all milestones completed",
        "Use to see remaining milestone work"
      ],
      "error_handling": "Returns empty array if all milestones completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_tasks_by_milestone",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all incomplete tasks for a milestone, including subtasks and sidequests.",
      "parameters": [
        {
          "name": "milestone_id",
          "type": "int",
          "required": true
        },
        {
          "name": "skip_pending",
          "type": "bool",
          "required": false,
          "default": false
        }
      ],
      "return_statements": [
        "Returns dict with tasks, subtasks, and sidequests",
        "If skip_pending=true, excludes pending tasks (only in_progress)",
        "Calls get_incomplete_subtasks_by_task() for each task",
        "Calls get_incomplete_sidequests() for all sidequests",
        "Use to get complete milestone work context"
      ],
      "error_handling": "Returns empty dict if no incomplete tasks.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": [
        "get_incomplete_subtasks_by_task",
        "get_incomplete_sidequests"
      ]
    },
    {
      "name": "get_incomplete_tasks",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all incomplete tasks across all milestones, including subtasks and sidequests.",
      "parameters": [],
      "return_statements": [
        "Returns dict with all incomplete tasks, subtasks, and sidequests",
        "Calls get_incomplete_subtasks() for all subtasks",
        "Calls get_incomplete_sidequests() for all sidequests",
        "Use to get complete project work status"
      ],
      "error_handling": "Returns empty dict if no incomplete tasks.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": [
        "get_incomplete_subtasks",
        "get_incomplete_sidequests"
      ]
    },
    {
      "name": "get_tasks_by_milestone",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all tasks for a milestone (all statuses).",
      "parameters": [
        {
          "name": "milestone_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of all tasks linked to milestone",
        "Empty array if no tasks exist",
        "Includes completed tasks for historical reference"
      ],
      "error_handling": "Returns empty array if no tasks for milestone.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_tasks_comprehensive",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Query tasks with multiple optional filters (status, date ranges, milestone, priority).",
      "parameters": [
        {
          "name": "status",
          "type": "str",
          "required": false
        },
        {
          "name": "limit",
          "type": "int",
          "required": false
        },
        {
          "name": "date_range_created",
          "type": "tuple",
          "required": false
        },
        {
          "name": "date_range_updated",
          "type": "tuple",
          "required": false
        },
        {
          "name": "milestone_id",
          "type": "int",
          "required": false
        },
        {
          "name": "priority",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of tasks matching all provided filters",
        "Empty array if no tasks match",
        "Use for advanced task queries"
      ],
      "error_handling": "Returns empty array if no tasks match filters.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_task_flows",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flow IDs associated with a task from flow_ids JSON field.",
      "parameters": [
        {
          "name": "task_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flow IDs from task.flow_ids JSON field",
        "Empty array if no flows linked",
        "Use with get_flows() to retrieve full flow data"
      ],
      "error_handling": "Returns empty array if no flows linked to task.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_task_files",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all files associated with a task through flows.",
      "parameters": [
        {
          "name": "task_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of file records linked through task flows",
        "Empty array if no files linked",
        "Calls get_task_flows() → get_file_ids_from_flows() → get_files()",
        "Use to understand task code context"
      ],
      "error_handling": "Returns empty array if no files linked to task.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": [
        "get_task_flows",
        "get_file_ids_from_flows",
        "get_files"
      ]
    },
    {
      "name": "get_tasks_by_flow",
      "file_path": "src/aifp/helpers/project/queries/task_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all tasks associated with a flow (searches flow_ids JSON field).",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of tasks containing flow_id in flow_ids JSON",
        "Empty array if no tasks linked to flow",
        "Less common query but available to reduce need for custom queries"
      ],
      "error_handling": "Returns empty array if no tasks linked to flow.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_subtasks",
      "file_path": "src/aifp/helpers/project/queries/subtask_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all subtasks with status != completed.",
      "parameters": [],
      "return_statements": [
        "Returns array of incomplete subtasks",
        "Empty array if all subtasks completed",
        "Use to see remaining subtask work across all tasks"
      ],
      "error_handling": "Returns empty array if all subtasks completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_subtasks_by_task",
      "file_path": "src/aifp/helpers/project/queries/subtask_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all incomplete subtasks for a specific task.",
      "parameters": [
        {
          "name": "task_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of incomplete subtasks for task",
        "Empty array if no incomplete subtasks",
        "Use to see remaining work for task"
      ],
      "error_handling": "Returns empty array if no incomplete subtasks for task.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_subtasks_by_task",
      "file_path": "src/aifp/helpers/project/queries/subtask_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all subtasks for a task, optionally filtered by status.",
      "parameters": [
        {
          "name": "task_id",
          "type": "int",
          "required": true
        },
        {
          "name": "status",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of subtasks for task",
        "Empty array if no subtasks exist",
        "If status provided, filters by status"
      ],
      "error_handling": "Returns empty array if no subtasks for task.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_subtasks_comprehensive",
      "file_path": "src/aifp/helpers/project/queries/subtask_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Query subtasks with multiple optional filters (status, date ranges, task, priority).",
      "parameters": [
        {
          "name": "status",
          "type": "str",
          "required": false
        },
        {
          "name": "limit",
          "type": "int",
          "required": false
        },
        {
          "name": "date_range_created",
          "type": "tuple",
          "required": false
        },
        {
          "name": "date_range_updated",
          "type": "tuple",
          "required": false
        },
        {
          "name": "task_id",
          "type": "int",
          "required": false
        },
        {
          "name": "priority",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of subtasks matching all provided filters",
        "Empty array if no subtasks match",
        "Use for advanced subtask queries"
      ],
      "error_handling": "Returns empty array if no subtasks match filters.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_sidequests",
      "file_path": "src/aifp/helpers/project/queries/sidequest_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all sidequests with status != completed.",
      "parameters": [],
      "return_statements": [
        "Returns array of incomplete sidequests",
        "Empty array if all sidequests completed",
        "Sidequests are important and should not fall through cracks"
      ],
      "error_handling": "Returns empty array if all sidequests completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_sidequests_comprehensive",
      "file_path": "src/aifp/helpers/project/queries/sidequest_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Query sidequests with multiple optional filters (status, date ranges, task, subtask, priority).",
      "parameters": [
        {
          "name": "status",
          "type": "str",
          "required": false
        },
        {
          "name": "limit",
          "type": "int",
          "required": false
        },
        {
          "name": "date_range_created",
          "type": "tuple",
          "required": false
        },
        {
          "name": "date_range_updated",
          "type": "tuple",
          "required": false
        },
        {
          "name": "task_id",
          "type": "int",
          "required": false
        },
        {
          "name": "subtask_id",
          "type": "int",
          "required": false
        },
        {
          "name": "priority",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of sidequests matching all provided filters",
        "Empty array if no sidequests match",
        "Use for advanced sidequest queries"
      ],
      "error_handling": "Returns empty array if no sidequests match filters.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_sidequest_flows",
      "file_path": "src/aifp/helpers/project/queries/sidequest_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get flow IDs associated with a sidequest from flow_ids JSON field.",
      "parameters": [
        {
          "name": "sidequest_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of flow IDs from sidequest.flow_ids JSON field",
        "Empty array if no flows linked",
        "Use with get_flows() to retrieve full flow data"
      ],
      "error_handling": "Returns empty array if no flows linked to sidequest.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_sidequest_files",
      "file_path": "src/aifp/helpers/project/queries/sidequest_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all files associated with a sidequest through flows.",
      "parameters": [
        {
          "name": "sidequest_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of file records linked through sidequest flows",
        "Empty array if no files linked",
        "Calls get_sidequest_flows() → get_file_ids_from_flows() → get_files()",
        "Use to understand sidequest code context"
      ],
      "error_handling": "Returns empty array if no files linked to sidequest.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": [
        "get_sidequest_flows",
        "get_file_ids_from_flows",
        "get_files"
      ]
    },
    {
      "name": "get_sidequests_by_flow",
      "file_path": "src/aifp/helpers/project/queries/sidequest_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all sidequests associated with a flow (searches flow_ids JSON field).",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of sidequests containing flow_id in flow_ids JSON",
        "Empty array if no sidequests linked to flow",
        "Less common query but available to reduce need for custom queries"
      ],
      "error_handling": "Returns empty array if no sidequests linked to flow.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_items_for_task",
      "file_path": "src/aifp/helpers/project/queries/item_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all items for a task, optionally filtered by status.",
      "parameters": [
        {
          "name": "task_id",
          "type": "int",
          "required": true
        },
        {
          "name": "status",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of items for task",
        "Empty array if no items exist",
        "If status provided, filters by status"
      ],
      "error_handling": "Returns empty array if no items for task.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_items_for_subtask",
      "file_path": "src/aifp/helpers/project/queries/item_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all items for a subtask, optionally filtered by status.",
      "parameters": [
        {
          "name": "subtask_id",
          "type": "int",
          "required": true
        },
        {
          "name": "status",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of items for subtask",
        "Empty array if no items exist",
        "If status provided, filters by status"
      ],
      "error_handling": "Returns empty array if no items for subtask.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_items_for_sidequest",
      "file_path": "src/aifp/helpers/project/queries/item_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all items for a sidequest, optionally filtered by status.",
      "parameters": [
        {
          "name": "sidequest_id",
          "type": "int",
          "required": true
        },
        {
          "name": "status",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of items for sidequest",
        "Empty array if no items exist",
        "If status provided, filters by status"
      ],
      "error_handling": "Returns empty array if no items for sidequest.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_incomplete_items",
      "file_path": "src/aifp/helpers/project/queries/item_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get incomplete items (status != completed) for a specific task/subtask/sidequest.",
      "parameters": [
        {
          "name": "for_table",
          "type": "str",
          "required": true,
          "values": [
            "tasks",
            "subtasks",
            "sidequests"
          ]
        },
        {
          "name": "for_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of incomplete items",
        "Empty array if all items completed",
        "for_table accepts 'tasks', 'subtasks', 'sidequests' (or singular forms)",
        "Singular forms automatically map to plural table names"
      ],
      "error_handling": "Returns empty array if all items completed.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_note",
      "file_path": "src/aifp/helpers/project/queries/note_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get note by ID.",
      "parameters": [
        {
          "name": "note_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns single note record or None if not found",
        "Notes track project events, decisions, and issues"
      ],
      "error_handling": "Returns None if note_id not found.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_notes",
      "file_path": "src/aifp/helpers/project/queries/note_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get multiple notes by array of IDs.",
      "parameters": [
        {
          "name": "note_ids",
          "type": "list[int]",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of note records matching provided IDs",
        "Empty array if no notes found",
        "Use for batch note retrieval"
      ],
      "error_handling": "Returns empty array if no notes match IDs.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_notes_comprehensive",
      "file_path": "src/aifp/helpers/project/queries/note_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Query notes with multiple optional filters (note_type, reference_table, reference_id, source, severity, directive_name).",
      "parameters": [
        {
          "name": "note_type",
          "type": "str",
          "required": false
        },
        {
          "name": "reference_table",
          "type": "str",
          "required": false
        },
        {
          "name": "reference_id",
          "type": "int",
          "required": false
        },
        {
          "name": "source",
          "type": "str",
          "required": false,
          "values": [
            "ai",
            "user"
          ]
        },
        {
          "name": "severity",
          "type": "str",
          "required": false,
          "values": [
            "info",
            "warning",
            "error"
          ]
        },
        {
          "name": "directive_name",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of notes matching all provided filters",
        "Empty array if no notes match",
        "Use for advanced note queries"
      ],
      "error_handling": "Returns empty array if no notes match filters.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "search_notes",
      "file_path": "src/aifp/helpers/project/queries/note_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Search notes content field for string, with optional filters.",
      "parameters": [
        {
          "name": "search_string",
          "type": "str",
          "required": true
        },
        {
          "name": "reference_table",
          "type": "str",
          "required": false
        },
        {
          "name": "reference_id",
          "type": "int",
          "required": false
        },
        {
          "name": "source",
          "type": "str",
          "required": false,
          "values": [
            "ai",
            "user"
          ]
        },
        {
          "name": "severity",
          "type": "str",
          "required": false
        },
        {
          "name": "directive_name",
          "type": "str",
          "required": false
        }
      ],
      "return_statements": [
        "Returns array of notes with content matching search string",
        "Empty array if no matches found",
        "Use for finding notes by keyword or phrase"
      ],
      "error_handling": "Returns empty array if no notes match search.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_notes_content_contains",
      "file_path": "src/aifp/helpers/project/queries/note_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Search notes content field for specific string or regex match.",
      "parameters": [
        {
          "name": "search",
          "type": "str",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of notes with content matching search pattern",
        "Empty array if no matches found",
        "May support regex patterns for advanced searching"
      ],
      "error_handling": "Returns empty array if no notes match pattern.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": []
    },
    {
      "name": "get_files_by_flow_context",
      "file_path": "src/aifp/helpers/project/queries/work_context_queries.py",
      "database": "project.db",
      "target_database": "project",
      "purpose": "Get all files associated with a flow along with their current functions.",
      "parameters": [
        {
          "name": "flow_id",
          "type": "int",
          "required": true
        }
      ],
      "return_statements": [
        "Returns array of file objects with embedded function arrays",
        "Empty array if no files linked to flow",
        "Useful for understanding complete flow implementation"
      ],
      "error_handling": "Returns empty array if no files linked to flow.",
      "used_by_directives": [],
      "is_tool": false,
      "is_sub_helper": false,
      "calls_helpers": [
        "get_files_by_flow",
        "get_functions_by_file"
      ]
    }
  ]
}
